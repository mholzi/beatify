(()=>{var v=(o,l,u)=>new Promise((g,f)=>{var w=i=>{try{c(u.next(i))}catch(d){f(d)}},h=i=>{try{c(u.throw(i))}catch(d){f(d)}},c=i=>i.done?g(i.value):Promise.resolve(i.value).then(w,h);c((u=u.apply(o,l)).next())});var N=function(){"use strict";var o="en",l={},u={},g=!1,f=null;function w(n){return v(this,null,function*(){try{var e=yield fetch("/beatify/static/i18n/"+n+".json");return e.ok?yield e.json():(console.warn("[i18n] Failed to load "+n+".json:",e.status),{})}catch(r){return console.warn("[i18n] Error loading "+n+".json:",r),{}}})}function h(){return v(this,null,function*(){Object.keys(u).length===0&&(u=yield w("en")),o==="en"?l=u:l=yield w(o),g=!0})}function c(n,e){if(!(!n||!e)){for(var r=e.split("."),t=n,a=0;a<r.length;a++){if(t==null)return;t=t[r[a]]}return t}}function i(n,e){var r=c(l,n);return r===void 0&&o!=="en"&&(r=c(u,n),r!==void 0&&console.warn('[i18n] Missing translation for "'+n+'" in '+o+", using English")),r===void 0?(console.warn('[i18n] Missing translation key: "'+n+'"'),n):(e&&typeof r=="string"&&Object.keys(e).forEach(function(t){r=r.replace(new RegExp("\\{"+t+"\\}","g"),e[t])}),r)}function d(n){return i("errors."+n)||i("errors.UNKNOWN")}var L=["en","de","es"];function y(n){return v(this,null,function*(){L.indexOf(n)===-1&&(console.warn("[i18n] Invalid language code: "+n+", defaulting to en"),n="en"),!(n===o&&g)&&(o=n,yield h())})}function A(){return o}function b(){var n=document.querySelectorAll("[data-i18n]");n.forEach(function(t){var a=t.getAttribute("data-i18n");if(a){var s=i(a);s!==a&&(t.textContent=s)}});var e=document.querySelectorAll("[data-i18n-placeholder]");e.forEach(function(t){var a=t.getAttribute("data-i18n-placeholder");if(a){var s=i(a);s!==a&&(t.placeholder=s)}});var r=document.querySelectorAll("[data-i18n-title]");r.forEach(function(t){var a=t.getAttribute("data-i18n-title");if(a){var s=i(a);s!==a&&(t.title=s)}})}function E(){var n=navigator.language||navigator.userLanguage||"en",e=n.toLowerCase();return e.startsWith("de")?"de":e.startsWith("es")?"es":"en"}function T(n){return v(this,null,function*(){if(f)return f;var e=n||E();f=y(e),yield f})}function j(){return g}return{t:i,getErrorMessage:d,setLanguage:y,getLanguage:A,initPageTranslations:b,detectBrowserLanguage:E,init:T,isReady:j}}(),P=N.t;})();
//# sourceMappingURL=i18n.min.js.map
